import 'package:fstapp/dataModelsEshop/TbEshop.dart';

class OrderModel {
  int? id;
  DateTime? createdAt;
  DateTime? updatedAt;
  double? price;
  String? state;
  Map<String, dynamic>? data;
  int? occasion;
  int? paymentInfo;
  int? form;
  String? currencyCode;

  static const String pendingState = "pending";
  static const String completedState = "completed";
  static const String canceledState = "canceled";

  factory OrderModel.fromJson(Map<String, dynamic> json) {
    return OrderModel(
      id: json[TbEshop.orders.id],
      createdAt: json[TbEshop.orders.created_at] != null ? DateTime.parse(json[TbEshop.orders.created_at]) : null,
      updatedAt: json[TbEshop.orders.updated_at] != null ? DateTime.parse(json[TbEshop.orders.updated_at]) : null,
      price: json[TbEshop.orders.price] != null ? double.tryParse(json[TbEshop.orders.price].toString()) : null,
      state: json[TbEshop.orders.state],
      data: json[TbEshop.orders.data],
      occasion: json[TbEshop.orders.occasion],
      paymentInfo: json[TbEshop.orders.payment_info],
      form: json[TbEshop.orders.form],
      currencyCode: json[TbEshop.orders.currency_code],
    );
  }

  Map<String, dynamic> toJson() => {
    TbEshop.orders.id: id,
    TbEshop.orders.created_at: createdAt?.toIso8601String(),
    TbEshop.orders.updated_at: updatedAt?.toIso8601String(),
    TbEshop.orders.price: price,
    TbEshop.orders.state: state,
    TbEshop.orders.data: data,
    TbEshop.orders.occasion: occasion,
    TbEshop.orders.payment_info: paymentInfo,
    TbEshop.orders.form: form,
    TbEshop.orders.currency_code: currencyCode,
  };

  String toBasicString() => id != null ? "Order #$id" : "Order";

  OrderModel({
    this.id,
    this.createdAt,
    this.updatedAt,
    this.price,
    this.state,
    this.data,
    this.occasion,
    this.paymentInfo,
    this.form,
    this.currencyCode,
  });
}
